<div *ngIf="!changePassword">
  <h2>All Users</h2>

  <ul class="users">
    <li *ngFor="let user of users"
    [class.selected]="user === selectedUser"
    (click)="onSelect(user)">
      <span class="badge">{{user.id}}</span> {{user.username}}
    </li>
  </ul>

  <div class="row" id="popup" *ngIf="selectedUser">
    <mat-card>
    <div class="col-md-12">
      <form #userForm="ngForm">
      <mat-card-title>{{selectedUser.username}}</mat-card-title>
        <mat-card-subtitle>Id: {{selectedUser.id}}</mat-card-subtitle>
        <mat-card-content>


          <div>
            <div class="form-group" >
              <mat-form-field>
              <input matInput placeholder="{{'userlist.userName'| translate}}"
                type="text" id="username" name="username"
                [(ngModel)]="selectedUser.username">
              </mat-form-field>
            </div>

            <div class="form-group">
              <mat-form-field>
                <input matInput placeholder="{{'userlist.email'| translate}}"
                  type="email" id="email" name="email"
                  [(ngModel)]="selectedUser.email">
              </mat-form-field>
            </div>

            <div class="form-group">
              <mat-form-field>
                <input matInput placeholder="{{'userlist.role'| translate}}"
                  type="number" id="id" name="id"
                  [(ngModel)]="selectedUser.role">
              </mat-form-field>
            </div>

            <mat-card-actions>
              <button mat-button="btn" type="button" (click)="editUser(selectedUser)">{{'userlist.save'| translate}}</button>
              <button mat-button="btn" type="button" (click)="changePassword = true" >{{'userlist.changePW' | translate}}</button>
              <button mat-button type="button" (click)="deleteUser(selectedUser)">{{'userlist.deleteUser'| translate}}</button>
            </mat-card-actions>
          </div>
          </mat-card-content>
      </form>
    </div>
    </mat-card>
  </div>
</div>


<div *ngIf="changePassword && selectedUser">
    <app-changepassword [user]="selectedUser" (changePW)="swapPW($event)"></app-changepassword>
</div>
